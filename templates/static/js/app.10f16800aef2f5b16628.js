webpackJsonp([1],{0:function(t,e){},NHnr:function(t,e,a){"use strict";function r(t){a("lICg")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s={name:"app"},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},u=[],l={render:n,staticRenderFns:u},o=l,d=a("VU/8"),c=d(s,o,!1,null,null,null),v=c.exports,_=a("/ocq"),k={},p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-child-width-expand@s uk-text-center uk-margin-large-top\nuk-margin-large-right uk-margin-large-left",attrs:{"uk-grid":""}},[a("div",[a("div",{staticClass:"uk-card uk-card-default uk-card-body"},[a("h3",{staticClass:"uk-heading-divider"},[t._v("Request a ride")]),t._v(" "),a("router-link",{staticClass:"uk-button uk-button-primary",attrs:{to:{name:"UserApp"}}},[t._v("User app")])],1)]),t._v(" "),a("div",[a("div",{staticClass:"uk-card uk-card-default uk-card-body"},[a("h3",{staticClass:"uk-heading-divider"},[t._v("For drivers")]),t._v(" "),a("router-link",{staticClass:"uk-button uk-button-primary",attrs:{to:{name:"DriverApp"}}},[t._v("Driver app")])],1)]),t._v(" "),a("div",[a("div",{staticClass:"uk-card uk-card-default uk-card-body"},[a("h3",{staticClass:"uk-heading-divider"},[t._v("Super admin")]),t._v(" "),a("router-link",{staticClass:"uk-button uk-button-primary",attrs:{to:{name:"Dashboard"}}},[t._v("Dashboard")])],1)])])},m=[],h={render:p,staticRenderFns:m},f=h,b=a("VU/8"),g=b(k,f,!1,null,null,null),C=g.exports,y={data:function(){return{user_id:void 0,fetching_rides:!1,user_rides:[]}},methods:{request_ride:function(){var t=this;this.$http.post("/api/user/ride/",{user_id:parseInt(this.user_id)}).then(function(e){t.$router.push({name:t.$route.name,params:{user_id:t.user_id}}),t.fetch_user_rides()},function(t){alert(t)})},fetch_user_rides:function(){var t=this;this.fetching_rides=!0,this.$http.get("/api/user/ride/?id="+this.$route.params.user_id).then(function(e){t.user_rides=e.data.rides,t.fetching_rides=!1},function(e){UIkit.notification({message:"Error fetching your rides :(",status:"danger",pos:"bottom-center",timeout:5e3}),t.fetching_rides=!1})}},filters:{readable_format:function(t){var e=new Date(t);return e.toDateString()+" "+e.toLocaleTimeString()}},mounted:function(){void 0!==this.$route.params.user_id&&this.fetch_user_rides()}},x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("GlobalNavBar"),t._v(" "),t.$route.params.user_id?a("div",{staticClass:"uk-card uk-card-default uk-card-body uk-width-1-3@m uk-margin-top uk-margin-left"},[a("router-link",{attrs:{to:{name:t.$route.name,params:{}}}},[a("span",{attrs:{"uk-icon":"arrow-left"}}),t._v(" Request ride with a different USER ID\n        ")]),t._v(" "),t.fetching_rides?a("div",{staticClass:"uk-text-center uk-margin-large-top uk-margin-large-bottom"},[a("div",{attrs:{"uk-spinner":""}}),a("br"),t._v(" "),a("div",{staticClass:"uk-margin-small-right"},[t._v("Fetching your rides..")])]):a("div",{staticClass:"uk-testing"},[t.user_rides.length>0?a("table",{staticClass:"uk-table uk-table-hover uk-table-small"},[a("caption",{staticClass:"uk-text-center"},[a("a",{on:{click:function(e){t.fetch_user_rides()}}},[t._v("Refresh")])]),t._v(" "),t._m(0),t._v(" "),a("tbody",t._l(t.user_rides,function(e){return a("tr",{key:e.id},[a("td",{staticClass:"uk-text-left"},[t._v(t._s(e.status))]),t._v(" "),a("td",{staticClass:"uk-text-left"},[t._v(t._s(e.pickup_driver?e.pickup_driver:"-"))]),t._v(" "),a("td",{staticClass:"uk-text-right"},[t._v("\n                            "+t._s(t._f("readable_format")(e.modified_at))+"\n                        ")])])}))]):a("div",{staticClass:"uk-margin-large-top uk-margin-large-bottom uk-text-center"},[t._v("\n                Your ride history will appear here..\n            ")])])],1):a("div",{staticClass:"uk-card uk-card-default uk-card-body uk-width-1-3@m uk-margin-top uk-margin-left"},[a("h3",{staticClass:"uk-card-title"},[t._v("Request a ride")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.request_ride(e)}}},[a("div",{staticClass:"uk-margin"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_id,expression:"user_id"}],staticClass:"uk-input",attrs:{type:"number",min:"0",placeholder:"Enter the user ID",required:""},domProps:{value:t.user_id},on:{input:function(e){e.target.composing||(t.user_id=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"uk-button uk-button-primary"},[t._v("Request")])])])],1)},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticClass:"uk-text-left"},[t._v("Status")]),t._v(" "),a("th",{staticClass:"uk-text-left"},[t._v("Driver")]),t._v(" "),a("th",{staticClass:"uk-text-right"},[t._v("Ride requested on")])])}],w={render:x,staticRenderFns:$},R=w,D=a("VU/8"),E=D(y,R,!1,null,null,null),U=E.exports,q={},A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("GlobalNavBar"),t._v(" "),a("div",{staticClass:"uk-child-width-3@s uk-child-width-1-3@m uk-padding",attrs:{"uk-grid":""}},[a("div",[a("ul",{staticClass:"uk-child-width-expand uk-subnav",attrs:{"uk-tab":""}},[a("li",{staticClass:"uk-active"},[a("a",{attrs:{href:"#waiting"}},[t._v("Waiting: "+t._s(t.message))])]),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),t._m(2)])])],1)},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"#ongoing"}},[t._v("Ongoing")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"#complete"}},[t._v("Complete")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"uk-switcher uk-margin"},[a("li",[a("table",{staticClass:"uk-table uk-table-hover uk-table-middle uk-table-small"},[a("caption",{staticClass:"uk-text-center"},[a("a",{attrs:{href:""}},[t._v("Refresh")])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("# 12312")]),t._v(" "),a("td",{staticClass:"uk-text-right"},[a("button",{staticClass:"uk-button uk-button-default"},[t._v("Pickup")])])])])])]),t._v(" "),a("li",[a("div",{staticClass:"uk-section uk-section-muted"},[a("div",{staticClass:"uk-container uk-text-center"},[t._v("\n                        You do not appear to be on any active rides.\n                    ")])])]),t._v(" "),a("li",[a("table",{staticClass:"uk-table uk-table-hover uk-table-middle"},[a("caption",{staticClass:"uk-text-center"},[a("a",{attrs:{href:""}},[t._v("Refresh")])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("# 12312")]),t._v(" "),a("td",{staticClass:"uk-text-right"},[t._v("12:46:39 PM")])])])])])])}],N={render:A,staticRenderFns:F},I=N,S=a("VU/8"),V=S(q,I,!1,null,null,null),B=V.exports,G={},H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("GlobalNavBar"),t._v("\n    Hello from dashboard\n")],1)},P=[],L={render:H,staticRenderFns:P},M=L,O=a("VU/8"),T=r,W=O(G,M,!1,T,null,null),Y=W.exports,j={computed:{nav_routes:function(){return this.$router.options.routes.filter(function(t){try{return t.nav.visible}catch(t){return!1}})}}},z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{"uk-sticky":"sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky; bottom: #transparent-sticky-navbar"}},[a("nav",{staticClass:"uk-navbar-container",staticStyle:{position:"relative","z-index":"980"},attrs:{"uk-navbar":""}},[a("div",{staticClass:"uk-navbar-center"},[a("ul",{staticClass:"uk-navbar-nav"},t._l(t.nav_routes,function(e){return a("li",{class:{"uk-active":t.$route.name===e.name}},[a("router-link",{attrs:{to:{name:e.name}}},[t._v(t._s(e.nav.title))])],1)}))])])])])},J=[],K={render:z,staticRenderFns:J},Q=K,X=a("VU/8"),Z=X(j,Q,!1,null,null,null),tt=Z.exports;i.a.use(_.a),i.a.component("GlobalNavBar",tt);var et=new _.a({routes:[{path:"/",name:"Landing",component:C,nav:{visible:!0,title:"Home"}},{path:"/user/:user_id?",name:"UserApp",component:U,nav:{visible:!0,title:"User App"}},{path:"/driver",name:"DriverApp",component:B,nav:{visible:!0,title:"Driver App"}},{path:"/dashboard",name:"Dashboard",component:Y,nav:{visible:!0,title:"Dashboard"}}],mode:"history"}),at=a("8+8L");i.a.config.productionTip=!1,i.a.use(at.a),new i.a({el:"#app",router:et,template:"<App/>",mode:"history",components:{App:v}})},lICg:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.10f16800aef2f5b16628.js.map